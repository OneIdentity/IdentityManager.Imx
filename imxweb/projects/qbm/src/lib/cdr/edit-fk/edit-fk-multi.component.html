<mat-form-field appearance="outline" *ngIf="columnContainer?.canEdit; else isReadonly">
  <mat-label>{{ columnContainer?.display | translate }}</mat-label>
  <input matInput type="text" [formControl]="control" [readonly]="true"
    [attr.data-imx-identifier]="'cdr-edit-fk-multi-input-' + columnContainer?.name"
    [required]="columnContainer.isValueRequired">
  <div matSuffix class="imx-suffix-container">
    <mat-spinner diameter="30" *ngIf="loading"></mat-spinner>
    <div class="imx-spacer"></div>
    <button *ngIf="columnContainer?.canEdit" mat-button color="primary" type="button" (click)="editAssignment()"
      [attr.data-imx-identifier]="'cdr-edit-fk-multi-button-edit-assignment-' + columnContainer?.name">
      {{ columnContainer?.value?.length ? ('#LDS#Change' | translate) : ('#LDS#Select' | translate) }}
    </button>
  </div>
  <mat-error *ngIf="control.errors?.['required']">
    {{ '#LDS#This field is mandatory.' | translate }}
  </mat-error>
</mat-form-field>


<ng-template #isReadonly>
  <imx-view-property
    [columnContainer]="columnContainer"
    defaultValue="#LDS#Not set"
  >
  </imx-view-property>
</ng-template>
